# Notes Service API

Простое приложение для работы с заметками, которое позволяет пользователям регистрироваться, входить в систему и управлять своими заметками. Каждая заметка содержит заголовок, текст и отметку времени создания. Пользователи видят только свои заметки, обеспечивая конфиденциальность данных.

API построен на FastAPI с асинхронной поддержкой и использует PostgreSQL для хранения данных через SQLAlchemy ORM. Все CRUD-операции покрыты тестами с использованием pytest. API документирован с помощью Swagger/OpenAPI и доступен для удобного изучения и интеграции.

## Функциональность

Пользователи могут регистрироваться и авторизоваться через JWT. После авторизации они могут создавать, читать, обновлять и удалять свои личные заметки. Основные эндпоинты:

- `/auth` — регистрация и авторизация пользователя  
- `/notes` — работа с заметками  

Приложение обеспечивает, чтобы каждый пользователь имел доступ только к своим заметкам.

## Технологии и зависимости

Приложение использует следующие библиотеки и инструменты:

- Python 3.11+
- FastAPI — веб-фреймворк для создания API
- Pydantic-Settings — управление настройками и валидация
- Colorlog — цветное логирование
- Uvicorn — ASGI-сервер для запуска FastAPI
- PyJWT — работа с JWT-токенами
- SQLAlchemy — ORM для работы с базой данных
- Alembic — миграции базы данных
- AsyncPG — асинхронный драйвер PostgreSQL
- Bcrypt — хеширование паролей
- Python-Multipart — обработка multipart/form-data
- HTTPX — асинхронные HTTP-запросы

## Тестирование и инструменты разработки

Для тестирования и разработки используются следующие инструменты:

- Pytest — фреймворк для написания и запуска тестов
- Pytest-AsyncIO — поддержка асинхронных тестов
- Faker — генерация случайных данных для тестов
- Black — автоматическое форматирование кода

## Установка и запуск

1. Клонируйте репозиторий:  
    ```bash
    git clone https://github.com/emurze/n_otes.git
    cd n_otes
    ```

2. Настройте переменные окружения (например, в .env.dev):
    ```bash
    cp .env.template .env.dev
    ```

3. Запустите через Docker Compose
    ```bash
   docker-compose up --build
   ```

## Запуск тестов

```bash
docker exec -it n_otes-api-1 pytest tests
```